<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Pebble Watchface SDK API Reference: Animation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="stylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 41px;">
  <td id="home"><a href="/"><img src="navbar-icon.png" border="0"></a></td>
  <td style="padding-left: 0.5em; display:none;">
   <div id="projectname">Pebble Watchface SDK API Reference
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group___animation.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">Modules</a>  </div>
  <div class="headertitle">
<div class="title">Animation</div>  </div>
<div class="ingroups"><a class="el" href="group___u_i.html">User Interface</a></div></div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Abstract framework to animate anything. </p>
<p>The animation framework is an abstract system on top of which concrete animations can be built. However, it only deals with timing, curves and the life-cycle of an animation (start, repeated updates and end). Being an abstract base layer, it <b>does NOT</b> animate anything visibly. If you are looking for a quick way to move a <a class="el" href="group___layer.html#struct_layer" title="Data structure of a Layer. It contains the following:">Layer</a> around on the screen, check out <a class="el" href="group___property_animation.html#ga318166ca0b05b77e9d99c4d775419add">property_animation_init_layer_frame()</a> and <a class="el" href="group___property_animation.html">PropertyAnimation</a>.</p>
<p>Also refer to <a href="http://developer.getpebble.com/1/02_Reference/05_UiFramework">UI Framework Conceptual Documentation</a>
 (chapter "Animation") for a conceptual overview of the animation framework and on how to write custom animations. </p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group___property_animation"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___property_animation.html">PropertyAnimation</a></td></tr>
<tr class="memdesc:group___property_animation"><td class="mdescLeft">&#160;</td><td class="mdescRight">Concrete animations to move a layer around over time. <br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga4688aea26114b85e420ec83a60828701"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* animation_get_context </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="group___animation.html#struct_animation">Animation</a> *&#160;</td>
          <td class="paramname"><em>animation</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the application-specific callback context of the animation. This <code>void</code> pointer is passed as an argument when the animation system calls <a class="el" href="group___animation.html#struct_animation_handlers" title="The handlers that will get called when an animation starts and stops. See documentation with the func...">AnimationHandlers</a> callbacks. The context pointer can be set to point to any application specific data using <a class="el" href="group___animation.html#gac8a29a88a7dbbbe14e7dd89e8b7ac11e">animation_set_handlers()</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">animation</td><td>The animation. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="group___animation.html#gac8a29a88a7dbbbe14e7dd89e8b7ac11e" title="Sets the callbacks for the animation. Often an application needs to run code at the start or at the e...">animation_set_handlers</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ga4e234c005da2181953ed6529e24e032a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void animation_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="group___animation.html#struct_animation">Animation</a> *&#160;</td>
          <td class="paramname"><em>animation</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the animation and resets its values to these defaults: </p>
<ul>
<li>Duration: 250ms,</li>
<li>Curve: <a class="el" href="group___animation.html#ggaf481a363d622c146285096e6395d9ec8a06d9643acfd6ced6e5b1b851b4f0b7de">AnimationCurveEaseInOut</a> (ease-in-out),</li>
<li>Delay: 0ms,</li>
<li>Handlers: <code>{NULL, NULL}</code> (none),</li>
<li>Context: <code>NULL</code> (none),</li>
<li>Implementation: <code>NULL</code> (no implementation),</li>
<li>Scheduled: no</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>Be careful not to initialize an animation that is currently scheduled. The result of doing so is undefined. </dd></dl>

</div>
</div>
<a class="anchor" id="gaca86c4d04d970bf4b2bc8634b30303a8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool animation_is_scheduled </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="group___animation.html#struct_animation">Animation</a> *&#160;</td>
          <td class="paramname"><em>animation</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>True if the animation was scheduled, or false if it was not. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>An animation will be scheduled when it is running and not finished yet. An animation that has finished is automatically unscheduled. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">animation</td><td>The animation for which to get its scheduled state. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="group___animation.html#ga18ef7816aad966166afde79101716b6a" title="Schedules the animation. Call this once after configuring an animation to get it to start running...">animation_schedule</a> </dd>
<dd>
<a class="el" href="group___animation.html#ga29d901560b92eb0a637ba5a20e883ad2" title="Unschedules the animation, which in effect stops the animation.">animation_unschedule</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ga18ef7816aad966166afde79101716b6a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void animation_schedule </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="group___animation.html#struct_animation">Animation</a> *&#160;</td>
          <td class="paramname"><em>animation</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Schedules the animation. Call this once after configuring an animation to get it to start running. </p>
<p>If the animation's implementation has a <code>.setup</code> callback it will get called before this function returns.</p>
<dl class="section note"><dt>Note</dt><dd>If the animation was already scheduled, it will first unschedule it and then re-schedule it again. Note that in that case, the animation's <code>.stopped</code> handler, the implementation's <code>.teardown</code> and <code>.setup</code> will get called, due to the unscheduling and scheduling. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">animation</td><td>The animation to schedule. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="group___animation.html#ga29d901560b92eb0a637ba5a20e883ad2">animation_unschedule()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ga1426d30a2706b21ca1cb1b2c5337e108"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void animation_set_curve </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="group___animation.html#struct_animation">Animation</a> *&#160;</td>
          <td class="paramname"><em>animation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___animation.html#gaf481a363d622c146285096e6395d9ec8">AnimationCurve</a>&#160;</td>
          <td class="paramname"><em>curve</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the animation curve for the animation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">animation</td><td>The animation for which to set the curve. </td></tr>
    <tr><td class="paramname">curve</td><td>The type of curve. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="group___animation.html#gaf481a363d622c146285096e6395d9ec8" title="Values that are used to indicate the different animation curves, which determine the speed at which t...">AnimationCurve</a> </dd></dl>
<dl class="section note"><dt>Note</dt><dd>It is up to the implementation of the animation to actually use the curve. Because a curve type is often used for animations, it is included in the animation base layer. </dd></dl>

</div>
</div>
<a class="anchor" id="gaf02c5765dc2a0512325ede71bcfb9ca3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void animation_set_delay </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="group___animation.html#struct_animation">Animation</a> *&#160;</td>
          <td class="paramname"><em>animation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___standard_c.html#gad53b3f685c3f3153f35ec87ea6f349d1">uint32_t</a>&#160;</td>
          <td class="paramname"><em>delay_ms</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets an optional delay for the animation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">animation</td><td>The animation for which to set the delay. </td></tr>
    <tr><td class="paramname">delay_ms</td><td>The delay in milliseconds that the animation system should wait from the moment the animation is scheduled to starting the animation. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga85d8adba15d2257b4528d89413dec407"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void animation_set_duration </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="group___animation.html#struct_animation">Animation</a> *&#160;</td>
          <td class="paramname"><em>animation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___standard_c.html#gad53b3f685c3f3153f35ec87ea6f349d1">uint32_t</a>&#160;</td>
          <td class="paramname"><em>duration_ms</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the time in milliseconds that an animation takes from start to finish. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">animation</td><td>The animation for which to set the duration. </td></tr>
    <tr><td class="paramname">duration_ms</td><td>The duration in milliseconds of the animation. This excludes any optional delay as set using <a class="el" href="group___animation.html#gaf02c5765dc2a0512325ede71bcfb9ca3">animation_set_delay()</a>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gac8a29a88a7dbbbe14e7dd89e8b7ac11e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void animation_set_handlers </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="group___animation.html#struct_animation">Animation</a> *&#160;</td>
          <td class="paramname"><em>animation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___animation.html#struct_animation_handlers">AnimationHandlers</a>&#160;</td>
          <td class="paramname"><em>callbacks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the callbacks for the animation. Often an application needs to run code at the start or at the end of an animation. Using this function is possible to register callback functions with an animation, that will get called at the start and end of the animation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">animation</td><td>The animation for which to set up the callbacks. </td></tr>
    <tr><td class="paramname">callbacks</td><td>The callbacks. </td></tr>
    <tr><td class="paramname">context</td><td>A pointer to application specific data, that will be passed as an argument by the animation subsystem when a callback is called. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gae33435c58e422b9b88a15726cb017433"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void animation_set_implementation </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="group___animation.html#struct_animation">Animation</a> *&#160;</td>
          <td class="paramname"><em>animation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group___animation.html#struct_animation_implementation">AnimationImplementation</a> *&#160;</td>
          <td class="paramname"><em>implementation</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the implementation of the custom animation. When implementing custom animations, use this function to specify what functions need to be called to for the setup, frame update and teardown of the animation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">animation</td><td>The animation for which to set the implementation. </td></tr>
    <tr><td class="paramname">implementation</td><td>The structure with function pointers to the implementation of the setup, update and teardown functions. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="group___animation.html#struct_animation_implementation" title="The 3 callbacks that implement a custom animation. Only the .update callback is mandatory, .setup and .teardown are optional. See the documentation with the function pointer typedefs for more information.">AnimationImplementation</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ga29d901560b92eb0a637ba5a20e883ad2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void animation_unschedule </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="group___animation.html#struct_animation">Animation</a> *&#160;</td>
          <td class="paramname"><em>animation</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unschedules the animation, which in effect stops the animation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">animation</td><td>The animation to unschedule. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>If the animation was not yet finished, unscheduling it will cause its <code>.stopped</code> handler to get called, with the "finished" argument set to false. </dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="group___animation.html#ga18ef7816aad966166afde79101716b6a">animation_schedule()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="gae341f7686c501f34cb553150ec7aa0ca"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void animation_unschedule_all </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unschedules all animations of the application. </p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="group___animation.html#ga29d901560b92eb0a637ba5a20e883ad2" title="Unschedules the animation, which in effect stops the animation.">animation_unschedule</a> </dd></dl>

</div>
</div>
<hr/><h2 class="groupheader">Data Structure Documentation</h2>
<a name="struct_animation_handlers" id="struct_animation_handlers"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct AnimationHandlers</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>The handlers that will get called when an animation starts and stops. See documentation with the function pointer types for more information. </p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="group___animation.html#gac8a29a88a7dbbbe14e7dd89e8b7ac11e" title="Sets the callbacks for the animation. Often an application needs to run code at the start or at the e...">animation_set_handlers</a> </dd></dl>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a class="anchor" id="aabde74563b7b9821699bb5e9b3f4a59f"></a><a class="el" href="group___animation.html#ga84300b066a9dee921b0717791290b118">AnimationStartedHandler</a></td>
<td class="fieldname">
started</td>
<td class="fielddoc">
The handler that will be called when an animation is started. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a56e5f5b77c843b7bc7e58587a42e197a"></a><a class="el" href="group___animation.html#ga6a38fcd6237de7b21e5a3b260803fc66">AnimationStoppedHandler</a></td>
<td class="fieldname">
stopped</td>
<td class="fielddoc">
The handler that will be called when an animation is stopped. </td></tr>
</table>

</div>
</div>
<a name="struct_animation" id="struct_animation"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct Animation</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>The data structure of an animation. </p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a261029662734732647273e37ef175d2e"></a><a class="el" href="group___standard_c.html#gad53b3f685c3f3153f35ec87ea6f349d1">uint32_t</a></td>
<td class="fieldname">
abs_start_time_ms</td>
<td class="fielddoc">
Absolute time when the animation got scheduled, in ms since system start. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a63a7e9cc5cece2d11a057f76483395e0"></a>void *</td>
<td class="fieldname">
context</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a54c57e18b939587b94b7a2cd278c5338"></a><a class="el" href="group___animation.html#gaf481a363d622c146285096e6395d9ec8">AnimationCurve</a></td>
<td class="fieldname">
curve:3</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a9ec18f77b7debf2720e219ce4e888842"></a><a class="el" href="group___standard_c.html#gad53b3f685c3f3153f35ec87ea6f349d1">uint32_t</a></td>
<td class="fieldname">
delay_ms</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a4612c98f78d09efb86405dff4298d874"></a><a class="el" href="group___standard_c.html#gad53b3f685c3f3153f35ec87ea6f349d1">uint32_t</a></td>
<td class="fieldname">
duration_ms</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="aca1c1bfc545c1ea2d01ab0cb70d80fba"></a><a class="el" href="group___animation.html#struct_animation_handlers">AnimationHandlers</a></td>
<td class="fieldname">
handlers</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="af8039dc416c0546ba28c67391e258b85"></a>struct <a class="el" href="group___animation.html#struct_animation_implementation">AnimationImplementation</a> *</td>
<td class="fieldname">
implementation</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="aefac9fe6c40877d81af84d2a9c2add46"></a>bool</td>
<td class="fieldname">
is_completed:1</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a091c35041018d1a6abfa60e1f05aa586"></a>ListNode</td>
<td class="fieldname">
list_node</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<a name="struct_animation_implementation" id="struct_animation_implementation"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct AnimationImplementation</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>The 3 callbacks that implement a custom animation. Only the <code>.update</code> callback is mandatory, <code>.setup</code> and <code>.teardown</code> are optional. See the documentation with the function pointer typedefs for more information. </p>
<dl class="section note"><dt>Note</dt><dd>The <code>.setup</code> callback is called immediately after scheduling the animation, regardless if there is a delay set for that animation using <a class="el" href="group___animation.html#gaf02c5765dc2a0512325ede71bcfb9ca3">animation_set_delay()</a>.</dd></dl>
<p>The diagram below illustrates the order in which callbacks can be expected to get called over the life cycle of an animation. It also illustrates where the implementation of different animation callbacks are intended to be “living”. </p>
<div class="image">
<img src="animations.png" alt="animations.png"/>
</div>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="group___animation.html#ga61be4aedb5d1d512a5f846c1ca78ad87" title="Pointer to function that (optionally) prepares the animation for running. This callback is called whe...">AnimationSetupImplementation</a> </dd>
<dd>
<a class="el" href="group___animation.html#gaafbcb4e93cde98a4a2d542714675301a" title="Pointer to function that updates the animation according to the given normalized time. This callback will be called repeatedly by the animation scheduler whenever the animation needs to be updated.">AnimationUpdateImplementation</a> </dd>
<dd>
<a class="el" href="group___animation.html#gadddea38a0c11c3eeb599f773388b2f01" title="Pointer to function that (optionally) cleans up the animation. This callback is called when the anima...">AnimationTeardownImplementation</a> </dd></dl>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a4cfa9952ca859f0555e2db1b29f135b8"></a><a class="el" href="group___animation.html#ga61be4aedb5d1d512a5f846c1ca78ad87">AnimationSetupImplementation</a></td>
<td class="fieldname">
setup</td>
<td class="fielddoc">
Called by the animation system when an animation is scheduled, to prepare it for running. This callback is optional and can be left <code>NULL</code> when not needed. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a65ba4fd5d15779901d11d4b1224baf82"></a><a class="el" href="group___animation.html#gadddea38a0c11c3eeb599f773388b2f01">AnimationTeardownImplementation</a></td>
<td class="fieldname">
teardown</td>
<td class="fielddoc">
Called by the animation system when an animation is unscheduled, to clean up after it has run. This callback is optional and can be left <code>NULL</code> when not needed. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a6eb3f553df358650fb53211fd3837506"></a><a class="el" href="group___animation.html#gaafbcb4e93cde98a4a2d542714675301a">AnimationUpdateImplementation</a></td>
<td class="fieldname">
update</td>
<td class="fielddoc">
Called by the animation system when the animation needs to calculate the next animation frame. This callback is mandatory and should not be left <code>NULL</code>. </td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="ga61be4aedb5d1d512a5f846c1ca78ad87"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* AnimationSetupImplementation)(struct <a class="el" href="group___animation.html#struct_animation">Animation</a> *animation)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pointer to function that (optionally) prepares the animation for running. This callback is called when the animation is added to the scheduler. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">animation</td><td>The animation that needs to be set up. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="group___animation.html#ga18ef7816aad966166afde79101716b6a" title="Schedules the animation. Call this once after configuring an animation to get it to start running...">animation_schedule</a> </dd>
<dd>
<a class="el" href="group___animation.html#gadddea38a0c11c3eeb599f773388b2f01" title="Pointer to function that (optionally) cleans up the animation. This callback is called when the anima...">AnimationTeardownImplementation</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ga84300b066a9dee921b0717791290b118"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* AnimationStartedHandler)(struct <a class="el" href="group___animation.html#struct_animation">Animation</a> *animation, void *context)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The function pointer type of the handler that will be called when an animation is started, just before updating the first frame of the animation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">animation</td><td>The animation that was started. </td></tr>
    <tr><td class="paramname">context</td><td>The pointer to custom, application specific data, as set using <a class="el" href="group___animation.html#gac8a29a88a7dbbbe14e7dd89e8b7ac11e">animation_set_handlers()</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This is called after any optional delay as set by <a class="el" href="group___animation.html#gaf02c5765dc2a0512325ede71bcfb9ca3">animation_set_delay()</a> has expired. </dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="group___animation.html#gac8a29a88a7dbbbe14e7dd89e8b7ac11e" title="Sets the callbacks for the animation. Often an application needs to run code at the start or at the e...">animation_set_handlers</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ga6a38fcd6237de7b21e5a3b260803fc66"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* AnimationStoppedHandler)(struct <a class="el" href="group___animation.html#struct_animation">Animation</a> *animation, bool finished, void *context)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The function pointer type of the handler that will be called when the animation is stopped. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">animation</td><td>The animation that was stopped. </td></tr>
    <tr><td class="paramname">finished</td><td>True if the animation was stopped because it was finished normally, or False if the animation was stopped prematurely, because it was unscheduled before finishing. </td></tr>
    <tr><td class="paramname">context</td><td>The pointer to custom, application specific data, as set using <a class="el" href="group___animation.html#gac8a29a88a7dbbbe14e7dd89e8b7ac11e">animation_set_handlers()</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="group___animation.html#gac8a29a88a7dbbbe14e7dd89e8b7ac11e" title="Sets the callbacks for the animation. Often an application needs to run code at the start or at the e...">animation_set_handlers</a> </dd></dl>

</div>
</div>
<a class="anchor" id="gadddea38a0c11c3eeb599f773388b2f01"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* AnimationTeardownImplementation)(struct <a class="el" href="group___animation.html#struct_animation">Animation</a> *animation)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pointer to function that (optionally) cleans up the animation. This callback is called when the animation is removed from the scheduler. In case the <code>.setup</code> implementation allocated any memory, this is a good place to release that memory again. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">animation</td><td>The animation that needs to be teared down. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="group___animation.html#ga29d901560b92eb0a637ba5a20e883ad2" title="Unschedules the animation, which in effect stops the animation.">animation_unschedule</a> </dd>
<dd>
<a class="el" href="group___animation.html#ga61be4aedb5d1d512a5f846c1ca78ad87" title="Pointer to function that (optionally) prepares the animation for running. This callback is called whe...">AnimationSetupImplementation</a> </dd></dl>

</div>
</div>
<a class="anchor" id="gaafbcb4e93cde98a4a2d542714675301a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* AnimationUpdateImplementation)(struct <a class="el" href="group___animation.html#struct_animation">Animation</a> *animation, const <a class="el" href="group___standard_c.html#gad53b3f685c3f3153f35ec87ea6f349d1">uint32_t</a> time_normalized)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pointer to function that updates the animation according to the given normalized time. This callback will be called repeatedly by the animation scheduler whenever the animation needs to be updated. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">animation</td><td>The animation that needs to update; gets passed in by the animation framework. </td></tr>
    <tr><td class="paramname">time_normalized</td><td>The current normalized time; gets passed in by the animation framework for each animation frame. This is a value between <a class="el" href="group___animation.html#ga96ce276742a60f74e5d2eb7ba2199d62">ANIMATION_NORMALIZED_MIN</a> and <a class="el" href="group___animation.html#ga43b9b82f56dbc751c7e3b25198b17d09">ANIMATION_NORMALIZED_MAX</a>. At the start of the animation, the value will be <a class="el" href="group___animation.html#ga96ce276742a60f74e5d2eb7ba2199d62">ANIMATION_NORMALIZED_MIN</a>. At the end of the animation, the value will be <a class="el" href="group___animation.html#ga43b9b82f56dbc751c7e3b25198b17d09">ANIMATION_NORMALIZED_MAX</a>. For each frame during the animation, the value will be the running time, mapped linearly between <a class="el" href="group___animation.html#ga96ce276742a60f74e5d2eb7ba2199d62">ANIMATION_NORMALIZED_MIN</a> and <a class="el" href="group___animation.html#ga43b9b82f56dbc751c7e3b25198b17d09">ANIMATION_NORMALIZED_MAX</a>. For example, say an animation was scheduled at t = 1.0s, has a delay of 1.0s and a duration of 2.0s. Then the .update callback will get called on t = 2.0s with time_normalized = <a class="el" href="group___animation.html#ga96ce276742a60f74e5d2eb7ba2199d62">ANIMATION_NORMALIZED_MIN</a>. For each frame thereafter until t = 4.0s, the update callback will get called where time_normalized is (<a class="el" href="group___animation.html#ga96ce276742a60f74e5d2eb7ba2199d62">ANIMATION_NORMALIZED_MIN</a> + (((<a class="el" href="group___animation.html#ga43b9b82f56dbc751c7e3b25198b17d09">ANIMATION_NORMALIZED_MAX</a> - <a class="el" href="group___animation.html#ga96ce276742a60f74e5d2eb7ba2199d62">ANIMATION_NORMALIZED_MIN</a>) * t) / duration)). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="gaf481a363d622c146285096e6395d9ec8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group___animation.html#gaf481a363d622c146285096e6395d9ec8">AnimationCurve</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Values that are used to indicate the different animation curves, which determine the speed at which the animated value(s) change(s). </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="ggaf481a363d622c146285096e6395d9ec8ae291d83db109f6e7492ada9bae301b52"></a>AnimationCurveLinear</em>&nbsp;</td><td>
<p>Linear curve: the velocity is constant. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggaf481a363d622c146285096e6395d9ec8af02b78b3839b10b84309c5a6fc1cedae"></a>AnimationCurveEaseIn</em>&nbsp;</td><td>
<p>Bicubic ease-in: accelerate from zero velocity. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggaf481a363d622c146285096e6395d9ec8a74d22c9dbe9c71aca41cbf4913418a7a"></a>AnimationCurveEaseOut</em>&nbsp;</td><td>
<p>Bicubic ease-in: decelerate to zero velocity. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggaf481a363d622c146285096e6395d9ec8a06d9643acfd6ced6e5b1b851b4f0b7de"></a>AnimationCurveEaseInOut</em>&nbsp;</td><td>
<p>Bicubic ease-in-out: accelerate from zero velocity, decelerate to zero velocity. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggaf481a363d622c146285096e6395d9ec8a2d2c5a61e04cd758cd32822ffd908f69"></a>NumAnimationCurve</em>&nbsp;</td><td>
<p>Number of available AnimationCurve types. </p>
</td></tr>
</table>
</dd>
</dl>

</div>
</div>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ga64469dfc0b74cc09184ead8145de909a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ANIMATION_DURATION_INFINITE&#160;&#160;&#160;((<a class="el" href="group___standard_c.html#gad53b3f685c3f3153f35ec87ea6f349d1">uint32_t</a>) ~0)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constant to indicate "infinite" duration. This can be used with <a class="el" href="group___animation.html#ga85d8adba15d2257b4528d89413dec407">animation_set_duration()</a> to indicate that the animation should run indefinitely. This is useful when implementing for example a frame-by-frame simulation that does not have a clear ending (e.g. a game). </p>
<dl class="section note"><dt>Note</dt><dd>Note that <code>time_normalized</code> parameter that is passed into the <code>.update</code> implementation is meaningless in when an infinite duration is used. </dd></dl>

</div>
</div>
<a class="anchor" id="ga43b9b82f56dbc751c7e3b25198b17d09"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ANIMATION_NORMALIZED_MAX&#160;&#160;&#160;65535</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The normalized time at the end of the animation. </p>

</div>
</div>
<a class="anchor" id="ga96ce276742a60f74e5d2eb7ba2199d62"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ANIMATION_NORMALIZED_MIN&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The normalized time at the start of the animation. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Thu May 16 2013 01:56:09 for Pebble Watchface SDK API Reference by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.2 </li>
  </ul>
</div>
</body>
</html>
